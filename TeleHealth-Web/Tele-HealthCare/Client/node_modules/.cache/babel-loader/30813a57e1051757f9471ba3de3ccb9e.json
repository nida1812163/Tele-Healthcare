{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashar\\\\Desktop\\\\Final FYP\\\\official Tele-HealthCare\\\\CLient\\\\src\\\\pages\\\\chat.js\",\n    _s = $RefreshSig$();\n\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport \"../chat.css\";\nimport Axios from 'axios';\nimport DoctorNavbar from \"../components/DoctorNavbar\";\nimport DoctorSideBar from \"../components/DoctorSideBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const [state, setState] = useState({\n    message: \"\",\n    name: \"\"\n  });\n  const [chat, setChat] = useState([]);\n  const socketRef = useRef();\n  useEffect(() => {\n    socketRef.current = io.connect(\"http://localhost:3001\");\n    socketRef.current.on(\"message\", _ref => {\n      let {\n        name,\n        message\n      } = _ref;\n      setChat([...chat, {\n        name,\n        message\n      }]);\n    });\n    return () => socketRef.current.disconnect();\n  }, [chat]);\n\n  const onTextChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onMessageSubmit = e => {\n    const {\n      name,\n      message\n    } = state;\n    socketRef.current.emit(\"message\", {\n      name,\n      message\n    });\n    e.preventDefault();\n    setState({\n      message: \"\",\n      name\n    });\n  };\n\n  const renderChat = () => {\n    return chat.map((_ref2, index) => {\n      let {\n        name,\n        message\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chat-h3\",\n          children: [name, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"rgb(0,0,0)\"\n            },\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 5\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 4\n      }, this);\n    });\n  };\n\n  const [render, setRender] = useState(true);\n\n  const getDoctorID = () => {\n    Axios.get('http://localhost:3001/Doctor_ID').then(res => {\n      // setList(res.data)\n      var string = JSON.stringify(res.data);\n      var json = JSON.parse(string); // alert(string)\n      // alert(json.doctor_id);\n\n      if (json.doctor_id === 0) {\n        setRender(false);\n        window.location = '/';\n        alert(\"You Need To Sign In First!!!\");\n      } // else{\n      //   setRender(true)\n      // }\n\n    });\n  };\n\n  getDoctorID();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: render && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"wrapper\",\n      style: {\n        background: 'linear-gradient(90deg, rgb(41,16,112) 0%, rgb(41,16,112) 100%)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(DoctorSideBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column\",\n        id: \"content-wrapper\",\n        style: {\n          background: '#bac6dd'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          style: {\n            color: '#2D2F3E'\n          },\n          children: [/*#__PURE__*/_jsxDEV(DoctorNavbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-fluid\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row table-row-container\",\n              style: {\n                maxWidth: \"97%\",\n                minWidth: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                    className: \"chat-form\",\n                    onSubmit: onMessageSubmit,\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Messenger\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 5\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"name-field12\",\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        name: \"name\",\n                        onChange: e => onTextChange(e),\n                        value: state.name,\n                        label: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 6\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 5\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        name: \"message\",\n                        onChange: e => onTextChange(e),\n                        value: state.message,\n                        id: \"outlined-multiline-static\",\n                        variant: \"outlined\",\n                        label: \"Message\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 6\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 5\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"chat-button\",\n                      children: \"Send Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 5\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 4\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"render-chat\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Chat Log\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 5\n                    }, this), renderChat()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 4\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 6\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Chat, \"0deeOvBXw+aakwIuRsq0ARuHsRE=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["C:/Users/ashar/Desktop/Final FYP/official Tele-HealthCare/CLient/src/pages/chat.js"],"names":["TextField","React","useEffect","useRef","useState","io","Axios","DoctorNavbar","DoctorSideBar","Chat","state","setState","message","name","chat","setChat","socketRef","current","connect","on","disconnect","onTextChange","e","target","value","onMessageSubmit","emit","preventDefault","renderChat","map","index","color","render","setRender","getDoctorID","get","then","res","string","JSON","stringify","data","json","parse","doctor_id","window","location","alert","background","maxWidth","minWidth"],"mappings":"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","sourcesContent":["import TextField from \"@material-ui/core/TextField\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport io from \"socket.io-client\"\r\nimport \"../chat.css\"\r\nimport Axios from'axios';\r\nimport DoctorNavbar from \"../components/DoctorNavbar\"\r\nimport DoctorSideBar from \"../components/DoctorSideBar\"\r\n\r\n\r\nfunction Chat() {\r\n\tconst [ state, setState ] = useState({ message: \"\", name: \"\" })\r\n\tconst [ chat, setChat ] = useState([])\r\n\t\r\n\tconst socketRef = useRef()\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsocketRef.current = io.connect(\"http://localhost:3001\")\r\n\t\t\tsocketRef.current.on(\"message\", ({ name, message }) => {\r\n\t\t\t\tsetChat([ ...chat, { name, message } ])\r\n\t\t\t})\r\n\t\t\treturn () => socketRef.current.disconnect()\r\n\t\t},\r\n\t\t[ chat ]\r\n\t)\r\n\r\n\tconst onTextChange = (e) => {\r\n\t\tsetState({ ...state, [e.target.name]: e.target.value })\r\n\t}\r\n\r\n\tconst onMessageSubmit = (e) => {\r\n\t\tconst { name, message } = state\r\n\t\tsocketRef.current.emit(\"message\", { name, message })\r\n\t\te.preventDefault()\r\n\t\tsetState({ message: \"\", name })\r\n\t}\r\n\r\n\tconst renderChat = () => {\r\n\t\treturn chat.map(({ name, message }, index) => (\r\n\t\t\t<div key={index}>\r\n\t\t\t\t<h3 className=\"chat-h3\">\r\n\t\t\t\t\t{name}: <span style={{color:\"rgb(0,0,0)\"}}>{message}</span>\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t))\r\n\t}\r\n\r\n\r\n\r\n\t    \r\n    const [render, setRender] = useState(true)\r\n\r\n    const getDoctorID = ()=>{\r\n      \r\n        Axios.get('http://localhost:3001/Doctor_ID').then(res => {\r\n                  \r\n        // setList(res.data)\r\n        \r\n      \r\n        var string = JSON.stringify(res.data)\r\n            \r\n        var json = JSON.parse(string)\r\n      \r\n      // alert(string)\r\n        // alert(json.doctor_id);\r\n\r\n\r\n        if(json.doctor_id === 0){\r\n          setRender(false)\r\n          window.location='/'\r\n          alert(\"You Need To Sign In First!!!\")\r\n        }\r\n        \r\n        // else{\r\n        //   setRender(true)\r\n        // }\r\n            })\r\n      \r\n      }\r\n      \r\n      getDoctorID()\r\n      \r\n\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t\r\n\r\n\t\t<div >\r\n        {render && (\r\n          <div id=\"wrapper\" style={{background: 'linear-gradient(90deg, rgb(41,16,112) 0%, rgb(41,16,112) 100%)'}}>\r\n\r\n  <DoctorSideBar/>\r\n  <div className=\"d-flex flex-column\" id=\"content-wrapper\" style={{background: '#bac6dd'}}>\r\n    <div id=\"content\" style={{color: '#2D2F3E'}}>\r\n      \r\n      <DoctorNavbar/>\r\n\r\n\r\n      <div className=\"container-fluid\" >\r\n        \r\n        <div className=\"row table-row-container\" style={{ maxWidth: \"97%\", minWidth: '20px'}}>  \r\n            <div className=\"row\">\r\n                \r\n\r\n\t\t\t  <div className=\"chat-card\">\r\n\t\t\t<form className=\"chat-form\" onSubmit={onMessageSubmit}>\r\n\t\t\t\t<h1>Messenger</h1>\r\n\t\t\t\t<div className=\"name-field12\">\r\n\t\t\t\t\t<TextField name=\"name\" onChange={(e) => onTextChange(e)} value={state.name} label=\"Name\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tname=\"message\"\r\n\t\t\t\t\t\tonChange={(e) => onTextChange(e)}\r\n\t\t\t\t\t\tvalue={state.message}\r\n\t\t\t\t\t\tid=\"outlined-multiline-static\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tlabel=\"Message\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"chat-button\">Send Message</button>\r\n\t\t\t</form>\r\n\t\t\t\r\n\t\t\t<div className=\"render-chat\">\r\n\t\t\t\t<h1>Chat Log</h1>\r\n\t\t\t\t{renderChat()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n              \r\n            </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n    \r\n\r\n          </div>\r\n        )}\r\n        \r\n        </div>\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t)\r\n}\r\n\r\nexport default Chat\r\n"]},"metadata":{},"sourceType":"module"}